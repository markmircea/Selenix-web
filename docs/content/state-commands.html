<div class="docs-section">
    <h2><i class="fa-solid fa-hourglass-half"></i> State & Session Management Commands</h2>
    <p>These commands help you manage the state of your automation, including waiting for elements, monitoring changes, and handling browser state.</p>
    
    <div class="command-list">
        <!-- Monitor Element Command -->
        <div class="command-item" id="monitorElement">
            <div class="command-header">
                <h3><code>monitorElement</code></h3>
                <div class="command-badge">Advanced</div>
            </div>
            <p class="command-description">Periodically checks an element for changes and waits until a change is detected. Perfect for monitoring dynamic content that updates asynchronously.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>monitorElement | locator | {"interval": 1000, "attribute": "text", "storeValue": "changedValue"}</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to monitor (e.g., <code>id=statusText</code>, <code>css=.price-display</code>)
                </div>
                <div class="param">
                    <strong>Value:</strong> A JSON object with the following properties:
                    <ul>
                        <li><code>interval</code>: Milliseconds between checks (default: 5000)</li>
                        <li><code>attribute</code>: What to monitor: "text", "value", "class", "style", etc. (default: "text")</li>
                        <li><code>storeValue</code>: Optional variable name to store the changed value</li>
                        <li><code>condition</code>: Comparison condition: "!==", "===", ">", "<", ">=", "<=", "contains", "not contains", "matches" (default: "!==")</li>
                        <li><code>baseValue</code>: Optional base value to compare against instead of initial value</li>
                        <li><code>maxDuration</code>: Maximum monitoring duration in milliseconds (default: 300000 - 5 minutes)</li>
                        <li><code>onTimeout</code>: What to do if maxDuration is reached: "continue" or "fail" (default: "continue")</li>
                    </ul>
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>monitorElement | id=statusIndicator | {"interval": 1000, "storeValue": "newStatus"}</code>
                        <code>echo | ${newStatus}</code>
                    </div>
                    <div class="example-desc">Check the text of an element with ID "statusIndicator" every second and store the new value in the "newStatus" variable when it changes</div>
                </div>
                
                <div class="example">
                    <div class="example-code">
                        <code>monitorElement | css=.price-display | {"attribute": "text", "condition": ">", "baseValue": "100", "storeValue": "currentPrice"}</code>
                        <code>assert | ${currentPrice} | >100</code>
                    </div>
                    <div class="example-desc">Monitor the text of an element with class "price-display" and wait until the value exceeds 100</div>
                </div>
                
                <div class="example">
                    <div class="example-code">
                        <code>monitorElement | xpath=//div[@id='loading-indicator'] | {"attribute": "class", "condition": "contains", "baseValue": "complete", "maxDuration": 10000, "onTimeout": "fail"}</code>
                    </div>
                    <div class="example-desc">Monitor a loading indicator's class attribute and wait until it contains the text "complete". Fail if this doesn't happen within 10 seconds</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>When to Use</h4>
                <ul>
                    <li><strong>Wait for async content:</strong> Monitor elements that update after AJAX calls</li>
                    <li><strong>Capture dynamic values:</strong> Store changing values for later use in the test</li>
                    <li><strong>Verify element updates:</strong> Wait for specific conditions before proceeding</li>
                    <li><strong>Handle timing issues:</strong> More reliable than using fixed wait times</li>
                </ul>
            </div>
        </div>
        
        <!-- Wait For Element Present -->
        <div class="command-item" id="waitForElementPresent">
            <div class="command-header">
                <h3><code>waitForElementPresent</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait for a target element to be present on the page.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>waitForElementPresent | locator | timeout</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to wait for
                </div>
                <div class="param">
                    <strong>Value:</strong> Optional timeout in milliseconds (default is 30000ms)
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>waitForElementPresent | id=results-container | 5000</code>
                        <code>waitForElementPresent | css=.loading-complete</code>
                    </div>
                    <div class="example-desc">Wait for elements to appear in the DOM</div>
                </div>
            </div>
        </div>
        
        <!-- Wait For Element Visible -->
        <div class="command-item" id="waitForElementVisible">
            <div class="command-header">
                <h3><code>waitForElementVisible</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait for a target element to be visible on the page.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>waitForElementVisible | locator | timeout</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to wait for
                </div>
                <div class="param">
                    <strong>Value:</strong> Optional timeout in milliseconds (default is 30000ms)
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>waitForElementVisible | id=results-container | 5000</code>
                        <code>waitForElementVisible | css=.loading-complete</code>
                    </div>
                    <div class="example-desc">Wait for elements to become visible</div>
                </div>
            </div>
        </div>
        
        <!-- Wait For Element Not Present -->
        <div class="command-item" id="waitForElementNotPresent">
            <div class="command-header">
                <h3><code>waitForElementNotPresent</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait for a target element to not be present on the page.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>waitForElementNotPresent | locator | timeout</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to wait for
                </div>
                <div class="param">
                    <strong>Value:</strong> Optional timeout in milliseconds (default is 30000ms)
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>waitForElementNotPresent | id=loading-spinner | 5000</code>
                        <code>waitForElementNotPresent | css=.error-message</code>
                    </div>
                    <div class="example-desc">Wait for elements to disappear from the DOM</div>
                </div>
            </div>
        </div>
        
        <!-- Wait For Element Not Visible -->
        <div class="command-item" id="waitForElementNotVisible">
            <div class="command-header">
                <h3><code>waitForElementNotVisible</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait for a target element to not be visible on the page.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>waitForElementNotVisible | locator | timeout</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to wait for
                </div>
                <div class="param">
                    <strong>Value:</strong> Optional timeout in milliseconds (default is 30000ms)
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>waitForElementNotVisible | id=loading-spinner | 5000</code>
                        <code>waitForElementNotVisible | css=.error-message</code>
                    </div>
                    <div class="example-desc">Wait for elements to become hidden</div>
                </div>
            </div>
        </div>
        
        <!-- Wait For Element Editable -->
        <div class="command-item" id="waitForElementEditable">
            <div class="command-header">
                <h3><code>waitForElementEditable</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait for an element to be editable.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>waitForElementEditable | locator | timeout</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to wait for
                </div>
                <div class="param">
                    <strong>Value:</strong> Optional timeout in milliseconds (default is 30000ms)
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>waitForElementEditable | id=comment-field | 5000</code>
                        <code>waitForElementEditable | css=input.username</code>
                    </div>
                    <div class="example-desc">Wait for form fields to become editable</div>
                </div>
            </div>
        </div>
        
        <!-- Wait For Element Not Editable -->
        <div class="command-item" id="waitForElementNotEditable">
            <div class="command-header">
                <h3><code>waitForElementNotEditable</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait for an element to not be editable.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>waitForElementNotEditable | locator | timeout</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to wait for
                </div>
                <div class="param">
                    <strong>Value:</strong> Optional timeout in milliseconds (default is 30000ms)
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>waitForElementNotEditable | id=locked-field | 5000</code>
                        <code>waitForElementNotEditable | css=input.readonly</code>
                    </div>
                    <div class="example-desc">Wait for form fields to become non-editable</div>
                </div>
            </div>
        </div>
        
        <!-- Wait For Text -->
        <div class="command-item" id="waitForText">
            <div class="command-header">
                <h3><code>waitForText</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait until the text of an element is present.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>waitForText | locator | text</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> A locator that identifies the element to check
                </div>
                <div class="param">
                    <strong>Value:</strong> The text to wait for
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>waitForText | id=status | Success</code>
                        <code>waitForText | css=.result | Operation completed</code>
                    </div>
                    <div class="example-desc">Wait for specific text to appear in elements</div>
                </div>
            </div>
        </div>
        
        <!-- Create Snapshot -->
        <div class="command-item" id="createSnapshot">
            <div class="command-header">
                <h3><code>createSnapshot</code></h3>
                <div class="command-badge">Advanced</div>
            </div>
            <p class="command-description">Creates a snapshot of the browser state with cookies, localStorage and sessionStorage, and saves it to a variable.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>createSnapshot | variableName</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> Name of the variable to store the snapshot
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>createSnapshot | loginState</code>
                        <code>exportToJSON | loginState | ./snapshots/login-state.json</code>
                    </div>
                    <div class="example-desc">Save browser state after login for later reuse</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>Usage Notes</h4>
                <ul>
                    <li>Snapshots include cookies, localStorage, and sessionStorage</li>
                    <li>Use with exportToJSON to save snapshots for future test runs</li>
                    <li>Useful for preserving authentication state between test runs</li>
                </ul>
            </div>
        </div>
        
        <!-- Restore Snapshot -->
        <div class="command-item" id="restoreSnapshot">
            <div class="command-header">
                <h3><code>restoreSnapshot</code></h3>
                <div class="command-badge">Advanced</div>
            </div>
            <p class="command-description">Restores a snapshot of the browser state from a variable saved by createSnapshot.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>restoreSnapshot | variableName</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> Name of the variable containing the snapshot
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>importFromJSON | ./snapshots/login-state.json | loginState</code>
                        <code>restoreSnapshot | loginState</code>
                    </div>
                    <div class="example-desc">Restore previously saved login state to skip login process</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>Usage Notes</h4>
                <ul>
                    <li>Must be used on the same domain as the snapshot was created</li>
                    <li>Use with importFromJSON to load snapshots from previous test runs</li>
                    <li>Significantly speeds up tests by avoiding repetitive login steps</li>
                </ul>
            </div>
        </div>
        
        <!-- Pause -->
        <div class="command-item" id="pause">
            <div class="command-header">
                <h3><code>pause</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Wait for the specified amount of time before continuing execution.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>pause | milliseconds</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> Time to wait in milliseconds
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>click | css=.load-more-button</code>
                        <code>pause | 3000</code>
                        <code>scrapeCollection | css=.newly-loaded-item | newItems</code>
                    </div>
                    <div class="example-desc">Wait for content to load after clicking a button</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>When to Use Pause</h4>
                <ul>
                    <li>After clicking load buttons to wait for new content</li>
                    <li>Between rapid API calls to respect rate limits</li>
                    <li>For slow-loading dynamic content</li>
                    <li>Consider using <code>waitForElementVisible</code> instead when possible</li>
                </ul>
            </div>
        </div>
        
        <!-- Set Speed -->
        <div class="command-item" id="setSpeed">
            <div class="command-header">
                <h3><code>setSpeed</code></h3>
                <div class="command-badge">Configuration</div>
            </div>
            <p class="command-description">Set execution speed by adding delays between commands. Useful for slower websites or debugging.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>setSpeed | milliseconds</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> Delay in milliseconds between commands
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>setSpeed | 1000</code>
                        <code>open | https://slow-website.com</code>
                        <code>click | css=.menu-item</code>
                        <code>setSpeed | 0</code>
                    </div>
                    <div class="example-desc">Slow down for problematic sites, then speed up for data extraction</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>Speed Settings</h4>
                <ul>
                    <li><code>0</code>: No delay (fastest)</li>
                    <li><code>500-1000</code>: Good for most websites</li>
                    <li><code>2000+</code>: For very slow or problematic sites</li>
                    <li>Global setting affects all subsequent commands</li>
                </ul>
            </div>
        </div>
    </div>
</div>
