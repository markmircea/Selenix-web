<div class="docs-section">
    <h2><i class="fa-solid fa-camera"></i> State & Session Management Commands</h2>
    
    <p>Selenix provides advanced browser state management for creating reproducible automations, handling sessions, and monitoring dynamic content changes.</p>
    
    <div class="command-list">
        
        <!-- Create Snapshot -->
        <div class="command-item" id="createSnapshot">
            <div class="command-header">
                <h3><code>createSnapshot</code></h3>
                <div class="command-badge">Professional</div>
            </div>
            <p class="command-description">Creates a complete snapshot of the browser state including cookies, localStorage, sessionStorage, and current page state. Essential for maintaining sessions across scheduled runs.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>createSnapshot | snapshotName</code>
            </div>
            
            <div class="command-params">
                <h4>Parameters</h4>
                <div class="param">
                    <strong>Target:</strong> Name to save the snapshot under (variable name)
                </div>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>open | https://dashboard.example.com</code>
                        <code>type | id=username | ${loginEmail}</code>
                        <code>type | id=password | ${loginPassword}</code>
                        <code>click | id=login-button</code>
                        <code>waitForElementVisible | css=.dashboard</code>
                        <code>createSnapshot | loggedInState</code>
                        <code>exportToJSON | loggedInState | ./snapshots/login-session.json</code>
                    </div>
                    <div class="example-desc">Login and save the authenticated session state</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>Snapshot Contents</h4>
                <ul>
                    <li><strong>Cookies:</strong> All domain cookies for session persistence</li>
                    <li><strong>LocalStorage:</strong> Client-side stored data</li>
                    <li><strong>SessionStorage:</strong> Session-specific data</li>
                    <li><strong>Page State:</strong> Current URL and basic page information</li>
                    <li><strong>Authentication:</strong> Preserved login sessions</li>
                </ul>
            </div>
        </div>
        
        <!-- Restore Snapshot -->
        <div class="command-item" id="restoreSnapshot">
            <div class="command-header">
                <h3><code>restoreSnapshot</code></h3>
                <div class="command-badge">Professional</div>
            </div>
            <p class="command-description">Restores a previously saved browser state snapshot. Instantly returns the browser to the exact saved state, including authentication and user preferences.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>restoreSnapshot | snapshotName</code>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>importFromJSON | ./snapshots/login-session.json | savedSession</code>
                        <code>restoreSnapshot | savedSession</code>
                        <code>open | https://dashboard.example.com/data</code>
                        <code>scrapeStructured | {"_root": "css=.data-row", "name": "css=.name", "value": "css=.value"} | dashboardData</code>
                    </div>
                    <div class="example-desc">Restore login session and scrape authenticated data</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>Use Cases</h4>
                <ul>
                    <li><strong>Scheduled automations:</strong> Skip login steps in recurring runs</li>
                    <li><strong>Multi-page workflows:</strong> Maintain state across complex navigation</li>
                    <li><strong>A/B testing:</strong> Return to consistent starting state</li>
                    <li><strong>Error recovery:</strong> Restore to known good state after failures</li>
                </ul>
            </div>
        </div>
        
        <!-- Store Window Handle -->
        <div class="command-item" id="storeWindowHandle">
            <div class="command-header">
                <h3><code>storeWindowHandle</code></h3>
                <div class="command-badge">Advanced</div>
            </div>
            <p class="command-description">Gets the handle of the current page/tab for later reference. Essential for multi-window automation.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>storeWindowHandle | variableName</code>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>storeWindowHandle | mainWindow</code>
                        <code>click | css=.open-popup-link</code>
                        <code>selectWindow | handle=${popupHandle}</code>
                        <code>scrapeText | css=.popup-content | popupData</code>
                        <code>close</code>
                        <code>selectWindow | handle=${mainWindow}</code>
                    </div>
                    <div class="example-desc">Handle popup windows and return to main window</div>
                </div>
            </div>
        </div>
        
        <!-- Select Window -->
        <div class="command-item" id="selectWindow">
            <div class="command-header">
                <h3><code>selectWindow</code></h3>
                <div class="command-badge">Advanced</div>
            </div>
            <p class="command-description">Selects a popup window or tab using a window handle. All subsequent commands will operate on the selected window.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>selectWindow | handle</code>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>selectWindow | handle=${newTabHandle}</code>
                        <code>selectWindow | handle=0</code>
                        <code>selectWindow | handle=popup-window</code>
                    </div>
                    <div class="example-desc">Switch between windows using handles or indices</div>
                </div>
            </div>
        </div>
        
        <!-- Select Frame -->
        <div class="command-item" id="selectFrame">
            <div class="command-header">
                <h3><code>selectFrame</code></h3>
                <div class="command-badge">Advanced</div>
            </div>
            <p class="command-description">Selects a frame within the current window for automation. Supports nested frames and relative navigation.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>selectFrame | frameLocator</code>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>selectFrame | id=content-frame</code>
                        <code>click | css=.frame-button</code>
                        <code>selectFrame | relative=parent</code>
                        <code>selectFrame | index=0</code>
                        <code>selectFrame | relative=top</code>
                    </div>
                    <div class="example-desc">Navigate through nested frames and return to parent/top</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>Frame Navigation</h4>
                <ul>
                    <li><code>relative=parent</code>: Move to parent frame</li>
                    <li><code>relative=top</code>: Move to top-level document</li>
                    <li><code>index=N</code>: Select frame by zero-based index</li>
                    <li>Use element locators for named frames</li>
                </ul>
            </div>
        </div>
        
        <!-- Set Window Size -->
        <div class="command-item" id="setWindowSize">
            <div class="command-header">
                <h3><code>setWindowSize</code></h3>
                <div class="command-badge">Configuration</div>
            </div>
            <p class="command-description">Set the browser window size including the browser interface. Important for responsive design testing and consistent screenshots.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>setWindowSize | widthxheight</code>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>setWindowSize | 1920x1080</code>
                        <code>setWindowSize | 1366x768</code>
                        <code>setWindowSize | 375x667</code>
                        <code>scrapeCollection | css=.responsive-element | mobileElements</code>
                    </div>
                    <div class="example-desc">Test different screen sizes and scrape responsive elements</div>
                </div>
            </div>
            
            <div class="command-notes">
                <h4>Common Resolutions</h4>
                <ul>
                    <li><code>1920x1080</code>: Full HD desktop</li>
                    <li><code>1366x768</code>: Common laptop resolution</li>
                    <li><code>375x667</code>: iPhone SE</li>
                    <li><code>414x896</code>: iPhone 11 Pro</li>
                    <li><code>768x1024</code>: iPad</li>
                </ul>
            </div>
        </div>
        
        <!-- Close -->
        <div class="command-item" id="close">
            <div class="command-header">
                <h3><code>close</code></h3>
                <div class="command-badge">Basic</div>
            </div>
            <p class="command-description">Closes the current window or tab. Use for cleanup or managing multiple windows.</p>
            
            <div class="command-syntax">
                <h4>Syntax</h4>
                <code>close</code>
            </div>
            
            <div class="command-examples">
                <h4>Examples</h4>
                <div class="example">
                    <div class="example-code">
                        <code>click | css=.external-link</code>
                        <code>storeWindowHandle | newTab</code>
                        <code>selectWindow | handle=${newTab}</code>
                        <code>scrapeText | css=.external-content | content</code>
                        <code>close</code>
                        <code>selectWindow | handle=${mainWindow}</code>
                    </div>
                    <div class="example-desc">Open external link, scrape content, close tab, return to main</div>
                </div>
            </div>
        </div>
        
    </div>
</div>